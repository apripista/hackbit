<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confirm Account Deletion - InsipiraHub</title>
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f2f4f8;
        }

        .layout {
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: 250px;
            background: #111827;
            color: #f3f4f6;
            padding: 2rem 1rem;
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            z-index: 1000;
            overflow-y: auto;
        }

        .sidebar h1 {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            text-align: center;
            color: #10b981;
        }

        .sidebar a {
            color: #d1d5db;
            text-decoration: none;
            padding: 0.8rem 1rem;
            border-radius: 10px;
            margin-bottom: 0.5rem;
            transition: 0.3s;
        }

        .sidebar a:hover {
            background: #1f2937;
            color: #10b981;
        }

        .sidebar form {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .sidebar input,
        .sidebar select,
        .sidebar button {
            padding: 0.4rem;
            border-radius: 5px;
            border: none;
        }

        .sidebar button {
            background-color: #10b981;
            color: white;
            cursor: pointer;
        }

        .sidebar-toggle {
            display: none;
            position: absolute;
            top: 1rem;
            left: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #10b981;
            z-index: 1001;
        }

        .main-content {
            flex: 1;
            padding: 2rem;
            margin-left: 250px;
            transition: margin 0.3s ease;
        }

        .container {
            max-width: 1400px;
            margin: 3rem auto;
            padding: 0 1.5rem;
        }

        .delete-section h2 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: #1f2937;
            text-align: center;
        }

        .delete-section p {
            font-size: 1rem;
            color: #4b5563;
            text-align: center;
            margin-bottom: 1rem;
        }

        .delete-form {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .form-group {
            width: 100%;
            margin-bottom: 1rem;
            text-align: left;
        }

        .form-group label {
            font-size: 1rem;
            color: #1f2937;
            margin-bottom: 0.5rem;
            display: block;
        }

        .form-group input[type="text"],
        .form-group input[type="password"] {
            width: 100%;
            padding: 0.5rem;
            border-radius: 5px;
            border: 1px solid #d1d5db;
            font-size: 0.9rem;
        }

        .form-group input:focus {
            outline: none;
            border-color: #10b981;
            box-shadow: 0 0 5px rgba(16, 185, 129, 0.3);
        }

        .form-group input[type="checkbox"] {
            margin-right: 0.5rem;
        }

        .form-row {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .form-row .form-group {
            flex: 1;
            min-width: 200px;
        }

        .form-group button {
            background-color: #e74c3c;
            color: #fff;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
            width: 100%;
        }

        .form-group button:hover {
            background-color: #c0392b;
        }

        .delete-info {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            justify-content: center;
        }

        .delete-info .info-column {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
            flex: 1;
            min-width: 300px;
            max-width: 400px;
            text-align: left;
        }

        .delete-info h3 {
            font-size: 1.2rem;
            color: #1f2937;
            margin-bottom: 0.5rem;
        }

        .delete-info p {
            font-size: 0.9rem;
            color: #4b5563;
            line-height: 1.5;
        }

        .delete-info a {
            color: #10b981;
            text-decoration: none;
        }

        .delete-info a:hover {
            text-decoration: underline;
        }

        .search-bar {
            position: fixed;
            top: 1rem;
            right: 1rem;
            z-index: 1002;
        }

        .search-bar input {
            padding: 0.5rem;
            border-radius: 5px;
            border: 1px solid #d1d5db;
            width: 200px;
            font-size: 0.9rem;
        }

        .search-bar input:focus {
            outline: none;
            border-color: #10b981;
            box-shadow: 0 0 5px rgba(16, 185, 129, 0.3);
        }

        .flash-message {
            background: #f8d7da;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin: 20px auto;
            max-width: 600px;
            text-align: center;
        }

        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.active {
                transform: translateX(0);
            }

            .sidebar-toggle {
                display: block;
            }

            .main-content {
                margin-left: 0;
                padding-top: 5rem;
            }

            .container {
                margin: 1rem auto;
            }

            .search-bar {
                top: 0.5rem;
                right: 0.5rem;
            }

            .search-bar input {
                width: 150px;
            }

            .delete-section h2 {
                font-size: 1.5rem;
            }

            .delete-form {
                padding: 1rem;
            }

            .form-group label,
            .form-group input,
            .form-group button {
                font-size: 0.9rem;
            }

            .form-row {
                flex-direction: column;
                gap: 0.5rem;
            }

            .form-row .form-group {
                min-width: 100%;
            }

            .delete-info .info-column {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <button class="sidebar-toggle" onclick="document.querySelector('.sidebar').classList.toggle('active')">â˜°</button>

    <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Search...">
    </div>

    <div class="layout">
        <aside class="sidebar">
            <h1>InspiraHub</h1>
            <a href="{{ url_for('index') }}">Home</a>
            <a href="{{ url_for('view_posts') }}">Posts</a>
            <a href="{{ url_for('create_post') }}">New Post</a>
            <a href="{{ url_for('settings') }}">Settings</a>
            <a href="{{ url_for('upload_profile_image') }}">Upload Image</a>
            <a href="{{ url_for('logout') }}">Logout</a>
        </aside>

        <main class="main-content">
            <div class="container">
                <!-- Flash Messages -->
                {% with messages = get_flashed_messages(with_categories=true) %}
                    {% if messages %}
                        {% for category, message in messages %}
                            <div class="flash-message">{{ message }}</div>
                        {% endfor %}
                    {% endif %}
                {% endwith %}

                <!-- Account Deletion Section -->
                <div class="delete-section">
                    <h2>Confirm Account Deletion</h2>
                    <p>Hello, {{ username }}!</p>
                    <p>Are you sure you want to delete your account? Please select reasons for deletion:</p>
                    <div class="delete-form">
                        <form action="{{ url_for('delete_account') }}" method="POST">
                            <div class="form-group">
                                <label>Reasons for Deletion:</label>
                                <input type="checkbox" id="reason1" name="deletion_reason[]" value="I no longer need this account">I no longer need this account <br>
                                <input type="checkbox" id="reason2" name="deletion_reason[]" value="I have created a new account">I have created a new account<br>
                                <input type="checkbox" id="reason3" name="deletion_reason[]" value="Privacy concerns">Privacy concerns
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="security_pin">Security PIN:</label>
                                    <input type="text" id="security_pin" name="security_pin" placeholder="Enter Your Security PIN" required>
                                </div>
                                <div class="form-group">
                                    <label for="password">Password:</label>
                                    <input type="password" id="password" name="password" placeholder="Enter Your Password" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="email">Email:</label>
                                    <input type="text" id="email" name="email" placeholder="Enter Your Email" required>
                                </div>
                                <div class="form-group">
                                    <label for="username">Username:</label>
                                    <input type="text" id="username" name="username" placeholder="Enter Your Username" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <button type="submit">Confirm Delete</button>
                            </div>
                        </form>
                    </div>
                    <div class="delete-info">
                        <div class="info-column">
                            <h3>Why Delete Your Account?</h3>
                            <p>
                                Deleting your account permanently removes all your data from InsipiraHub, including posts and profile information. This action is irreversible, so back up any important data before proceeding. Use the form above to confirm deletion.
                            </p>
                        </div>
                        <div class="info-column">
                            <h3>Security Measures for Deletion</h3>
                            <p>
                                To ensure account deletion is secure, you must provide your security PIN, password, email, and username. This multi-step verification prevents unauthorized deletions. Complete the form above to proceed with deletion.
                            </p>
                        </div>
                        <div class="info-column">
                            <h3>Enable Two-Factor Authentication</h3>
                            <p>
                                Two-Factor Authentication (TFA) adds an extra layer of security to your account. If you choose to keep your account, enabling TFA can protect it from unauthorized access. Visit the <a href="{{ url_for('activate_tfa') }}">Activate TFA</a> page to set it up.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Flash Disappear Script -->
    <script src="{{ url_for('static', filename='static/JS/flash-disappear.js') }}"></script>
</body>
</html>